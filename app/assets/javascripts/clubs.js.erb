$(function(){
  $('button.accept').click(AcceptRequest);
  $('button.decline').click(DeclineRequest);
  HoldingsPie();
  PerformanceArea();
});

function AcceptRequest() {
  var id = this.id;
  var row = $(this).parent().parent();
  $.ajax({
    type: 'PUT',
    url: ('/votes/' + id),
    data: { value: true },
    complete: function() {
      row.hide();
    }
  });
}

function DeclineRequest() {
  var id = this.id;
  var row = $(this).parent().parent();
  $.ajax({
    type: 'PUT',
    url: ('/votes/' + id),
    data: { value: false },
    complete: function() {
      row.hide();
    }
  });
}

function HoldingsPie() {

var data = $('#holdings_view').data('holdings');

new Morris.Donut({
  element: 'holdings_view',
  data: data
});


  }

function PerformanceArea () {

  var data = $('#performance-area').data('performance')

  Morris.Area({
    element: 'performance-area',
    data: [{ y: 2013-04-05, GOOG: 783.05, USD: 1, AAPL: 423.2, VMW: 76.91, CTSH: 73.66 }, { y: 2013-04-04, GOOG: 795.07, USD: 1, AAPL: 427.72, VMW: 76.67, CTSH: 74.48 }, { y: 2013-04-03, GOOG: 806.2, USD: 1, AAPL: 431.99, VMW: 76.13, CTSH: 74.92 }, { y: 2013-04-02, GOOG: 813.04, USD: 1, AAPL: 429.79, VMW: 77.65, CTSH: 76.36 }, { y: 2013-04-01, GOOG: 801.19, USD: 1, AAPL: 428.91, VMW: 78.12, CTSH: 76.74 }, { y: 2013-03-28, GOOG: 794.19, USD: 1, AAPL: 442.66, VMW: 78.88, CTSH: 76.62 }, { y: 2013-03-27, GOOG: 802.66, USD: 1, AAPL: 452.08, VMW: 78.56, CTSH: 74.21 }, { y: 2013-03-26, GOOG: 812.42, USD: 1, AAPL: 461.14, VMW: 76.09, CTSH: 74.62 }, { y: 2013-03-25, GOOG: 809.64, USD: 1, AAPL: 463.58, VMW: 76.5, CTSH: 74.39 }, { y: 2013-03-22, GOOG: 810.31, USD: 1, AAPL: 461.91, VMW: 80.15, CTSH: 74.9 }, { y: 2013-03-21, GOOG: 811.26, USD: 1, AAPL: 452.73, VMW: 81.05, CTSH: 76.14 }, { y: 2013-03-20, GOOG: 814.71, USD: 1, AAPL: 452.08, VMW: 81.31, CTSH: 77.61 }, { y: 2013-03-19, GOOG: 811.32, USD: 1, AAPL: 454.49, VMW: 80.67, CTSH: 77.1 }, { y: 2013-03-18, GOOG: 807.79, USD: 1, AAPL: 455.72, VMW: 82.77, CTSH: 77.61 }, { y: 2013-03-15, GOOG: 814.3, USD: 1, AAPL: 443.66, VMW: 83.85, CTSH: 78.36 }, { y: 2013-03-14, GOOG: 821.54, USD: 1, AAPL: 432.5, VMW: 85.1, CTSH: 78.68 }, { y: 2013-03-13, GOOG: 825.31, USD: 1, AAPL: 428.35, VMW: 81.37, CTSH: 79.19 }, { y: 2013-03-12, GOOG: 827.61, USD: 1, AAPL: 428.43, VMW: 75.29, CTSH: 79.02 }, { y: 2013-03-11, GOOG: 834.82, USD: 1, AAPL: 437.87, VMW: 75.4, CTSH: 79.78 }, { y: 2013-03-08, GOOG: 831.52, USD: 1, AAPL: 431.72, VMW: 74.56, CTSH: 80.51 }]
    ,
    xkey: 'y',
    ykeys: ['GOOG', 'USD', 'AAPL', 'VMW', 'CTSH'],
    labels: ['Google', 'USD', 'Apple', 'VMWare', 'Cognizant']
  });


}
