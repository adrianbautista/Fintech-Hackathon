$(function(){
  $('button.accept').click(AcceptRequest);
  $('button.decline').click(DeclineRequest);
  HoldingsPie();
  PerformanceArea();
});

function AcceptRequest() {
  var id = this.id;
  var row = $(this).parent().parent();
  $.ajax({
    type: 'PUT',
    url: ('/votes/' + id),
    data: { value: true },
    complete: function() {
      row.hide();
    }
  });
}

function DeclineRequest() {
  var id = this.id;
  var row = $(this).parent().parent();
  $.ajax({
    type: 'PUT',
    url: ('/votes/' + id),
    data: { value: false },
    complete: function() {
      row.hide();
    }
  });
}

function HoldingsPie() {

var data = $('#holdings_view').data('holdings')
// var jsonObj = $.parseJSON(data);

new Morris.Donut({
  element: 'holdings_view',
  data: [data]
});

}

function PerformanceArea () {

Morris.Area({
  element: 'area-example',
  data: [
    { y: '2006', a: 100, b: 90 },
    { y: '2007', a: 75,  b: 65 },
    { y: '2008', a: 50,  b: 40 },
    { y: '2009', a: 75,  b: 65 },
    { y: '2010', a: 50,  b: 40 },
    { y: '2011', a: 75,  b: 65 },
    { y: '2012', a: 100, b: 90 }
  ],
  xkey: 'y',
  ykeys: ['a', 'b'],
  labels: ['Series A', 'Series B']
});


}
